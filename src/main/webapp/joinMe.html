<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <title>报名了解</title>
    <link rel="stylesheet" type="text/css" href="css/iview.css">
    <link rel="stylesheet" type="text/css" href="css/hyx_joinMe.css">
    <script type="text/javascript" src="vujs/vue.min.js"></script>
    <script type="text/javascript" src="vujs/iview.min.js"></script>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            text-decoration: none;
        }
    </style>
</head>

<body>
<iframe name="" frameborder="0" scrolling="no" marginwidth="0" marginheight="0" width="100%" src="header.html"></iframe>
<div class="contentJoinMe">
    <div id="carousel1" class="carousel1">
        <Carousel v-model="carousel"
                  :autoplay="setting.autoplay"
                  :autoplay-speed="setting.autoplaySpeed"
                  :dots="setting.dots"
                  :trigger="setting.trigger"
                  :arrow="setting.arrow">
            <Carousel-Item>
                <img src="image/01-1.jpg" width="380px">
            </Carousel-Item>
            <Carousel-Item>
                <img src="image/01-2.jpg" width="380px">
            </Carousel-Item>
            <Carousel-Item>
                <img src="image/01-3.jpg" width="380px">
            </Carousel-Item>
            <Carousel-Item>
                <img src="image/01-4.jpg" width="380px">
            </Carousel-Item>
        </Carousel>
    </div>
    <div id="form1" class="form1">
        <i-form ref="formValidate" :model="formValidate" :rules="ruleValidate" :label-width="80">
            <Form-Item label="姓名" prop="name">
                <i-input v-model="formValidate.name" placeholder="请输入姓名"></i-input>
            </Form-Item>
            <Form-Item label="性别" prop="gender">
                <Radio-Group v-model="formValidate.gender">
                    <Radio label="male">男</Radio>
                    <Radio label="female">女</Radio>
                </Radio-Group>
            </Form-Item>
            <Form-Item label="电话" prop="telephone">
                <i-input v-model="formValidate.telephone" placeholder="请输入电话"></i-input>
            </Form-Item>
            <Form-Item label="学校" prop="school">
                <i-input v-model="formValidate.school" placeholder="请输入学校"></i-input>
            </Form-Item>
            <Form-Item label="专业" prop="major">
                <i-input v-model="formValidate.major" placeholder="请输入专业"></i-input>
            </Form-Item>
            <Form-Item label="邮箱" prop="mail">
                <i-input v-model="formValidate.mail" placeholder="请输入邮箱"></i-input>
            </Form-Item>
            <Form-Item>
                <i-button type="primary" @click="handleSubmit('formValidate')">提交</i-button>
                <i-button type="ghost" @click="handleReset('formValidate')" style="margin-left: 8px">重置</i-button>
            </Form-Item>
        </i-form>
    </div>
</div>
<iframe name="" frameborder="0" scrolling="no" marginwidth="0" marginheight="0" width="100%" height="450"
        src="footer.html"></iframe>
</body>
<script>
    var carousel = new Vue({
        el: '#carousel1',
        data: {
            carousel: 0,
            setting: {
                autoplay: true,
                autoplaySpeed: 2000,
                dots: 'none',
                trigger: 'click',
                arrow: 'never'
            }
        }
    });

    var form = new Vue({
        el: '#form1',
        data: {
            formValidate: {
                name: '',
                gender: '',
                telephone: '',
                school: '',
                major: '',
                mail: ''
            },
            ruleValidate: {
                name: [
                    {required: true, message: '姓名不能为空', trigger: 'blur'}
                ],
                gender: [
                    {required: true, message: '请选择性别', trigger: 'change'}
                ],
                telephone: [
                    {required: true, message: '电话不能为空', trigger: 'blur'}
                ],
                school: [
                    {required: true, message: '学校不能为空', trigger: 'blur'}
                ],
                major: [
                    {required: true, message: '专业不能为空', trigger: 'blur'}
                ],
                mail: [
                    {required: true, message: '邮箱不能为空', trigger: 'blur'},
                    {type: 'email', message: '邮箱格式不正确', trigger: 'blur'}
                ]
            }
        },
        methods: {
            handleSubmit: function (name) {
                this.$refs[name].validate(function (valid) {
                    if (valid) {
                        $.ajax({
                            url: '',
                            type: 'post',
                            data: this.formValidate,
                            dataType: 'text',
                            success: function (data) {
                                alert('提交成功!');
                            }
                        });
                    } else {
                        alert('表单验证失败!');
                    }
                })
            },
            handleReset: function (name) {
                this.$refs[name].resetFields();
            }
        }
    })
</script>
</html>